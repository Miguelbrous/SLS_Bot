{
  "default_mode": "demo",
  "shared": {
    "paths": {
      "root": "/root/SLS_Bot",
      "excel_dir": "/root/SLS_Bot/excel/{mode}",
      "logs_dir": "/root/SLS_Bot/logs/{mode}",
      "models_dir": "/root/SLS_Bot/models/{mode}"
    },
    "risk": {
      "daily_max_dd_pct": 4.0,
      "cooldown_after_losses": 2,
      "cooldown_minutes": 60,
      "dd_cooldown_minutes": 120,
      "cooldown_loss_streak": 3,
      "cooldown_loss_window_minutes": 120,
      "cooldown_loss_minutes": 45,
      "pnl_epsilon": 0.05,
      "dynamic_risk": {
        "enabled": true,
        "drawdown_tiers": [
          {
            "drawdown": 0,
            "multiplier": 1.0
          },
          {
            "drawdown": 1.0,
            "multiplier": 0.85
          },
          {
            "drawdown": 2.5,
            "multiplier": 0.65
          },
          {
            "drawdown": 4.0,
            "multiplier": 0.45
          }
        ],
        "min_multiplier": 0.25,
        "max_multiplier": 1.6,
        "equity_ceiling_pct": 8,
        "multiplier_above_ceiling": 1.2
      },
      "guardrails": {
        "min_confidence": 0.55,
        "max_risk_pct": 2.0,
        "volatility": {
          "max_atr_pct": 3.5
        },
        "per_symbol": {
          "BTCUSDT": {
            "max_risk_pct": 1.5,
            "max_leverage": 15
          },
          "ETHUSDT": {
            "max_risk_pct": 1.2,
            "max_leverage": 12
          }
        }
      }
    },
    "server": {
      "host": "0.0.0.0",
      "port": 8080,
      "webhook_path": "/webhook"
    },
    "panel": {
      "allowed_origins": [
        "http://localhost:3000"
      ]
    },
    "auth": {
      "control_user": "panel",
      "control_password": "cambia_esto"
    },
    "cerebro": {
      "enabled": true,
      "symbols": [
        "BTCUSDT",
        "ETHUSDT"
      ],
      "timeframes": [
        "15m",
        "1h"
      ],
      "refresh_seconds": 60,
      "news_feeds": [
        "https://www.binance.com/blog/rss",
        "https://cointelegraph.com/rss"
      ],
      "min_confidence": 0.55,
      "max_memory": 5000,
      "sl_atr_multiple": 1.5,
      "tp_atr_multiple": 2.0,
      "news_ttl_minutes": 45,
      "session_guards": [
        {
          "name": "Asia (Tokyo)",
          "timezone": "Asia/Tokyo",
          "open_time": "09:00",
          "pre_open_minutes": 45,
          "post_open_minutes": 30,
          "wait_for_news_minutes": 45,
          "risk_multiplier_after_news": 0.8,
          "close_positions_minutes": 15
        },
        {
          "name": "Europa (Londres)",
          "timezone": "Europe/London",
          "open_time": "08:00",
          "pre_open_minutes": 45,
          "post_open_minutes": 45,
          "wait_for_news_minutes": 60,
          "risk_multiplier_after_news": 0.75,
          "close_positions_minutes": 20
        },
        {
          "name": "Am\u00c3\u00a9rica (Nueva York)",
          "timezone": "America/New_York",
          "open_time": "09:30",
          "pre_open_minutes": 60,
          "post_open_minutes": 60,
          "wait_for_news_minutes": 60,
          "risk_multiplier_after_news": 0.7,
          "close_positions_minutes": 20
        }
      ],
      "intel": {
        "news_api": {
          "enabled": true,
          "provider": "cryptopanic",
          "token_env": "CRYPTOPANIC_TOKEN",
          "min_votes": 2,
          "limit": 30
        },
        "whales": {
          "enabled": true,
          "min_notional": 1500000,
          "orderbook_depth": 80,
          "spoof_ratio": 5.0,
          "imbalance_threshold": 0.35,
          "imbalance_warn": 0.35,
          "imbalance_block": 0.75,
          "allow_spoof_override": true
        }
      }
    },
    "ia": {
      "modo": "asesor",
      "riesgo_pct": 0.75,
      "proba_enter": 0.6
    }
  },
  "modes": {
    "test": {
      "env": "DEMO",
      "bybit": {
        "api_key": "TtIN8vBvXOo8fDSULz",
        "api_secret": "VnWHZ44Lfeb6cNj5Nx48r90WfLrwhvp2MeYt",
        "base_url": "https://api-demo.bybit.com",
        "account_type": "UNIFIED",
        "category": "linear",
        "symbols": [
          "BTCUSDT",
          "ETHUSDT"
        ],
        "position_mode": "ONE_WAY",
        "default_leverage": 20
      },
      "paths": {
        "excel_dir": "/root/SLS_Bot/excel/test",
        "logs_dir": "/root/SLS_Bot/logs/test",
        "models_dir": "/root/SLS_Bot/models/test"
      },
      "strategies": {
        "scalping": {
          "enabled": true,
          "modes": [
            "test"
          ],
          "timeframes": [
            "1m",
            "3m",
            "5m"
          ],
          "primary_timeframe": "1m",
          "anchor_timeframe": "15m",
          "force_primary_timeframe": true,
          "lookback": 900,
          "volume_window": 180,
          "volatility_bps_min": 30,
          "volatility_bps_max": 180,
          "confidence_threshold": 0.62,
          "force_trade_confidence": 0.3,
          "min_risk_pct": 0.25,
          "atr_stop_multiple": 1.2,
          "atr_take_profit_multiple": 2.4,
          "max_hold_minutes": 45,
          "fee_bps_round_trip": 12,
          "min_trades_per_day": 18,
          "daily_target_pct": 0.8,
          "forced_loss_backoff": 3,
          "forced_backoff_minutes": 25,
          "risk_pct": 1.25,
          "leverage": 15,
          "aggressive_symbols": [
            "BTCUSDT"
          ],
          "notes": "Estrategia de scalping intrad\u00c3\u00ada para el modo demo"
        }
      }
    },
    "real": {
      "env": "MAINNET",
      "bybit": {
        "api_key": "SWzVHs7Ehl9soXX0Kp",
        "api_secret": "vHczjq91nqbw7oxSmoFfCiuQeTSy88JonIJP",
        "base_url": "https://api.bybit.com",
        "account_type": "UNIFIED",
        "category": "linear",
        "symbols": [
          "BTCUSDT",
          "ETHUSDT"
        ],
        "position_mode": "ONE_WAY",
        "default_leverage": 10
      },
      "risk": {
        "daily_max_dd_pct": 2.0,
        "cooldown_after_losses": 1,
        "cooldown_minutes": 90,
        "dynamic_risk": {
          "drawdown_tiers": [
            {
              "drawdown": 0,
              "multiplier": 0.9
            },
            {
              "drawdown": 1.0,
              "multiplier": 0.7
            },
            {
              "drawdown": 2.0,
              "multiplier": 0.55
            }
          ],
          "min_multiplier": 0.2,
          "max_multiplier": 1.0,
          "equity_ceiling_pct": 5
        },
        "guardrails": {
          "min_confidence": 0.6,
          "max_risk_pct": 1.5,
          "volatility": {
            "max_atr_pct": 3.0
          },
          "per_symbol": {
            "BTCUSDT": {
              "max_risk_pct": 1.2,
              "max_leverage": 12
            },
            "ETHUSDT": {
              "max_risk_pct": 1.0,
              "max_leverage": 10
            }
          }
        }
      },
      "cerebro": {
        "enabled": true,
        "min_confidence": 0.6
      },
      "paths": {
        "excel_dir": "/root/SLS_Bot/excel/real",
        "logs_dir": "/root/SLS_Bot/logs/real",
        "models_dir": "/root/SLS_Bot/models/real"
      }
    },
    "demo": {
      "env": "MAINNET_DEMO",
      "bybit": {
        "api_key": "SWzVHs7Ehl9soXX0Kp",
        "api_secret": "vHczjq91nqbw7oxSmoFfCiuQeTSy88JonIJP",
        "base_url": "https://api.bybit.com",
        "account_type": "UNIFIED",
        "category": "linear",
        "symbols": [
          "BTCUSDT",
          "ETHUSDT"
        ],
        "position_mode": "ONE_WAY",
        "default_leverage": 10
      },
      "risk": {
        "daily_max_dd_pct": 2.0,
        "cooldown_after_losses": 1,
        "cooldown_minutes": 90,
        "dynamic_risk": {
          "drawdown_tiers": [
            {
              "drawdown": 0,
              "multiplier": 0.9
            },
            {
              "drawdown": 1.0,
              "multiplier": 0.7
            },
            {
              "drawdown": 2.0,
              "multiplier": 0.55
            }
          ],
          "min_multiplier": 0.2,
          "max_multiplier": 1.0,
          "equity_ceiling_pct": 5
        },
        "guardrails": {
          "min_confidence": 0.6,
          "max_risk_pct": 1.5,
          "volatility": {
            "max_atr_pct": 3.0
          },
          "per_symbol": {
            "BTCUSDT": {
              "max_risk_pct": 1.2,
              "max_leverage": 12
            },
            "ETHUSDT": {
              "max_risk_pct": 1.0,
              "max_leverage": 10
            }
          }
        }
      },
      "cerebro": {
        "enabled": true,
        "min_confidence": 0.6
      },
      "paths": {
        "excel_dir": "/root/SLS_Bot/excel/demo",
        "logs_dir": "/root/SLS_Bot/logs/demo",
        "models_dir": "/root/SLS_Bot/models/demo"
      },
      "strategies": {
        "demo_scalp": {
          "enabled": true,
          "timeframes": [
            "1m",
            "3m",
            "5m"
          ],
          "min_trades_per_day": 25,
          "daily_target_pct": 1.2,
          "force_trade_confidence": 0.25,
          "notes": "Meta agresiva demo mainnet"
        }
      }
    }
  }
}